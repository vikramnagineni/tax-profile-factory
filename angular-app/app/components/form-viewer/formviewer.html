<!-- <div class="well well-sm">
	<h3>[DEBUG] template = {{$ctrl.currentForm}}</h3>
</div> -->


<div id="formViewerContainer">

    <script type="text/ng-template" id="viewerContent.html">
    <div aria-labelledby="modalLabel" id="viewerModal">
        <div class="spacer row" ng-if="$ctrl.wizardMode">	
            <div class="col-md-8 col-md-offset-2">
                <uib-progress title='{{$ctrl.progress.label}}'>					
                    <uib-bar class="progress-bar progress-bar-striped active" value="$ctrl.progress.value" type="success">{{$ctrl.progress.label}}</uib-bar>
                    <uib-bar class="progress-bar progress-bar-striped active" value="$ctrl.progress.skipvalue" type="warning">{{$ctrl.progress.skiplabel}}</uib-bar>
                </uib-progress>
            </div>
        </div>
        <div class="spacer" ng-if="!$ctrl.wizardMode"></div>
        <div class="row" ng-if="$ctrl.alertmsg">
            <div class="col-md-8 col-md-offset-2">
                <div class="modal-body">		
                    <div class="alert alert-info">			
                        <div class="actionMessage"><center><b>{{$ctrl.alertmsg}}<em>{{$ctrl.alertmsgdtl}}</em></b></center></div>
                    </div>
                </div>						
            </div>		
        </div>
    
            
    
        <div class="row " ng-show="$ctrl.canDisplayForm()"> 
            <div class="col-md-12">
                <div class="embed-responsive embed-responsive-form">
                    <iframe id="formcontents" class="embed-responsive-item"></iframe>
                </div>
            </div>
            <div ng-if="$ctrl.isSubmitting && $ctrl.mainCtrl.useHTML" class="spacer">
            <div class="col-md-8 col-md-offset-2">
            <center>
            <!--<h3>EF Form Submission in Progress <i class='fa fa-cog fa-spin'></i></h3>-->
            <uib-progress>
            <uib-bar class="progress-bar progress-bar-striped active" value="$ctrl.progress_submit.value" type="info">{{$ctrl.progress_submit.label}}</uib-bar>
            </uib-progress>
            </center> 
            </div>
            </div>
        </div>	
        <div ng-if="$ctrl.pickEffDate()">
            <div class="row" >
                <div class="col-md-4 col-md-offset-4">			
                     <center>			
                         <h4>Please Choose A Date Between</h4>
                        <h4><em>{{$ctrl.currentFormParams.minDate  | date:'mediumDate' }}&nbsp; - &nbsp;{{$ctrl.currentFormParams.maxDate  | date:'mediumDate' }}</em></h4>				
                     </center>			
                </div>
            </div>	
    
            <div class="row spacer" >
                <div class="col-md-4 col-md-offset-4 well well-sm">			
                     <center>
                        <uib-datepicker ng-model="$ctrl.currentFormParams.initDate" datepicker-options="$ctrl.currentFormParams"></uib-datepicker>				
                    </center>			
                </div>
            </div>	
            <div class="row">
                <div class="col-md-4 col-md-offset-4">			
                     <center>				
                         <h4> <b> You Chose:&nbsp;</b>
                            <em>{{$ctrl.currentFormParams.initDate  | date:'mediumDate' }}</em> &nbsp;						
                            <button type="button btn-lg" class="btn btn-info" ng-click="$ctrl.chooseEffDate($ctrl.currentFormParams.initDate)">Continue</button>
                        </h4>
                        <br>
                    </center>			
                </div>
            </div>	
        </div>
    
        <div class="modal-footer"> 
            <button type="button" class="btn btn-warning" ng-if="$ctrl.mainCtrl.useHTML && $ctrl.isSubmitted" ng-click="$ctrl.showPdf()"><b>View PDF</b></button>
            <button type="button" class="btn btn-success" ng-if="$ctrl.wizardMode && $ctrl.canCloseOrSkip && $ctrl.isNotLastForm()" ng-click="$ctrl.skipForm()"><span class="glyphicon glyphicon-forward"></span><b>Skip Form</b></button> 
            <button type="button" class="btn btn-warning" ng-if="$ctrl.canCloseOrSkip" ng-click="$ctrl.closeViewerModal()"><b>Close</b></button>
        </div>
    </div>
    </script>
    
    </div>